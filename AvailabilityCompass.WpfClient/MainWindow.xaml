<Window
    x:Class="AvailabilityCompass.WpfClient.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:AvailabilityCompass.WpfClient"
    Title="MainWindow"
    Width="1220"
    Height="780"
    d:DataContext="{d:DesignInstance Type=vm:MainViewModel}"
    d:DesignHeight="1920"
    d:DesignWidth="1080"
    mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  - Left navigation rail.  -->
        <materialDesign:Card Grid.Column="0">
            <TabControl
                x:Name="MenuTabControl"
                VerticalContentAlignment="Top"
                materialDesign:ColorZoneAssist.Mode="PrimaryDark"
                ItemsSource="{Binding MainNavigationTabs}"
                SnapsToDevicePixels="True"
                Style="{StaticResource MaterialDesignNavigationRailTabControl}">

                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="SelectionChanged" SourceObject="{Binding ElementName=MenuTabControl}">
                        <b:InvokeCommandAction Command="{Binding TabChangedCommand}"
                                               CommandParameter="{Binding SelectedItem, ElementName=MenuTabControl}" />
                    </b:EventTrigger>
                </b:Interaction.Triggers>

                <TabControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Width="auto" Height="auto">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                HorizontalAlignment="Center"
                                Kind="{Binding Icon}" />
                            <TextBlock HorizontalAlignment="Center" Text="{Binding Name}" />
                        </StackPanel>
                    </DataTemplate>
                </TabControl.ItemTemplate>
                <!--  - Remove the content template.  -->
                <TabControl.ContentTemplate>
                    <DataTemplate />
                </TabControl.ContentTemplate>
            </TabControl>
        </materialDesign:Card>

        <!--  - Main content area.  -->
        <ContentControl
            Grid.Column="1"
            Margin="15,5,15,15"
            Panel.ZIndex="1"
            Content="{Binding CurrentViewModel}" />


    </Grid>
</Window>